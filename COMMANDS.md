# Project EXFIL 命令文档

本插件所有命令均以 `/exfil` 开头。

## 玩家命令 (Player Commands)

所有玩家默认拥有使用这些命令的权限。

### 1. 打开主菜单
打开游戏主菜单，可以进行地图选择、组队管理和查看仓库。
- **命令**: `/exfil`
- **权限**: `exfil.use` (默认开启)

### 2. 打开个人仓库
直接打开个人仓库界面。
- **命令**: `/exfil stash`
- **权限**: `exfil.use` (默认开启)

---

## 管理员命令 (Admin Commands)

仅限拥有 `exfil.admin` 权限的管理员（OP）使用。

### 1. 设置撤离点
将当前使用木斧（WorldEdit/FAWE）选中的区域保存为当前地图的撤离点。
- **命令**: `/exfil setextract <名称>`
- **参数**:
  - `<名称>`: 撤离点的唯一标识名（例如：`extract_zone_1`）。
- **权限**: `exfil.admin`
- **前置条件**:
  1. 必须手持木斧（`//wand`）并在当前世界框选一个区域。
  2. 必须在**地图模板世界**中操作（不要在游戏进行中的副本世界操作）。
- **示例**:
  ```
  //wand
  (左键点击一个角，右键点击对角)
  /exfil setextract alpha_extract
  ```

## 调试与开发说明

### 地图与撤离点设置流程
1. **准备地图**: 将制作好的地图作为普通世界加载（或作为 SlimeWorld 模板存在）。
2. **进入地图**: 使用传送命令进入该地图模板。
3. **框选区域**: 使用 WorldEdit 木斧框选撤离区域。
4. **保存撤离点**: 输入 `/exfil setextract <名称>`。
   - 插件会自动记录该区域相对于地图模板的坐标。
   - 即使游戏时生成了地图的克隆副本（如 `desert_instance_1`），插件也会根据模板名称自动匹配到正确的撤离点坐标。
